<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School TV | Tất Cả Live Stream</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <style>
        /* Core Styles */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #4a90e2;
            --secondary-color: #f0f4f8;
            --text-color: #2c3e50;
            --bg-color: #ffffff;
            --card-bg: rgba(255, 255, 255, 0.95);
            --shadow-color: rgba(0, 0, 0, 0.1);
            --hover-color: #357abd;
            --border-color: #e1e8ed;
            --live-color: #ff4757;
            --gradient-bg: linear-gradient(135deg, #f6f8fa 0%, #f0f4f8 100%);
            --card-hover: rgba(255, 255, 255, 0.98);
            --filter-bg: rgba(255, 255, 255, 0.8);
            --filter-border: rgba(74, 144, 226, 0.2);
            --tab-active: #4a90e2;
            --tab-hover: #f8fafc;
            --skeleton-bg: #eef2f7;
            --skeleton-shine: rgba(255, 255, 255, 0.2);
        }

        [data-theme="dark"] {
            --primary-color: #4a90e2;
            --secondary-color: #1a2634;
            --text-color: #e1e8ed;
            --bg-color: #0f172a;
            --card-bg: rgba(26, 38, 52, 0.95);
            --shadow-color: rgba(0, 0, 0, 0.3);
            --hover-color: #5a9de2;
            --border-color: #2a3f52;
            --gradient-bg: linear-gradient(135deg, #1a2634 0%, #0f172a 100%);
            --card-hover: rgba(26, 38, 52, 0.98);
            --filter-bg: rgba(26, 38, 52, 0.8);
            --filter-border: rgba(74, 144, 226, 0.3);
            --tab-hover: #1e293b;
            --skeleton-bg: #2a3f52;
            --skeleton-shine: rgba(255, 255, 255, 0.05);
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
            100% {
                opacity: 1;
            }
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100%);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        body {
            background: var(--gradient-bg);
            color: var(--text-color);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .user-avatar:hover {
            transform: scale(1.1);
        }

        .load-more {
            display: block;
            width: 200px;
            margin: 2rem auto;
            padding: 1rem 2rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
        }

        .load-more:hover {
            background: var(--hover-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.3);
        }

        /* Header Styles */

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 1rem 5%;
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        /* Main Container */

        .main-container {
            margin-top: 80px;
            padding: 2rem 5%;
        }

        /* Filter Section */

        .filter-section {
            background: var(--filter-bg);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
            border: 1px solid var(--filter-border);
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .filter-label {
            font-weight: 500;
            color: var(--text-color);
        }

        .filter-select {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-color);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-select:hover {
            border-color: var(--primary-color);
        }

        .search-box {
            flex: 1;
            min-width: 200px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 0.5rem 1rem 0.5rem 2.5rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-color);
            color: var(--text-color);
        }

        .search-icon {
            position: absolute;
            left: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-color);
            opacity: 0.5;
        }

        /* Content Grid */

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stream-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px var(--shadow-color);
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease;
        }

        .stream-card:hover {
            transform: translateY(-5px);
            background: var(--card-hover);
            box-shadow: 0 8px 25px var(--shadow-color);
        }

        .stream-thumbnail {
            position: relative;
            padding-top: 56.25%;
            overflow: hidden;
        }

        .stream-thumbnail img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .stream-card:hover .stream-thumbnail img {
            transform: scale(1.05);
        }

        .live-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: var(--live-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .live-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
            100% {
                opacity: 1;
            }
        }

        .recorded-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: var(--primary-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .stream-duration {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .stream-info {
            padding: 1.5rem;
        }

        .stream-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--text-color);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .stream-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-color);
            opacity: 0.8;
            font-size: 0.9rem;
        }

        .stream-stats {
            display: flex;
            gap: 1rem;
        }

        .stream-university {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .university-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            object-fit: cover;
        }

        /* Section Headers */

        .section-header {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .section-title {
            font-size: 1.8rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* Loading Skeleton */

        .skeleton {
            background: var(--skeleton-bg);
            position: relative;
            overflow: hidden;
        }

        .skeleton::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: linear-gradient(90deg, transparent, var(--skeleton-shine), transparent);
            animation: shimmer 1.5s infinite;
        }

        /* Responsive Design */

        @media (max-width: 768px) {
            .filter-section {
                flex-direction: column;
                align-items: stretch;
            }
            .filter-group {
                flex-wrap: wrap;
            }
            .search-box {
                width: 100%;
            }
            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Scrollbar Styling */

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--hover-color);
        }
    </style>
</head>

<body>
    <header class="header">
        <a href="#" class="logo">
            <i class="fas fa-tv"></i>
            SchoolTV
        </a>
        <nav class="nav-links">
            <a href="#"><i class="fas fa-home"></i> Trang Chủ</a>
            <a href="#"><i class="fas fa-compass"></i> Khám Phá</a>
            <a href="#"><i class="fas fa-university"></i> Trường Học</a>
            <button class="theme-toggle" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
            <img src="https://picsum.photos/40/40?random=avatar" alt="User Avatar" class="user-avatar">
        </nav>
    </header>

    <main class="main-container">
        <section class="filter-section">
            <div class="filter-group">
                <span class="filter-label">Sắp xếp:</span>
                <select class="filter-select">
                    <option value="newest">Mới nhất</option>
                    <option value="viewers">Lượt xem cao nhất</option>
                    <option value="trending">Đang thịnh hành</option>
                </select>
            </div>
            <div class="filter-group">
                <span class="filter-label">Trường:</span>
                <select class="filter-select">
                    <option value="all">Tất cả</option>
                    <option value="bachkhoa">ĐH Bách Khoa</option>
                    <option value="fpt">ĐH FPT</option>
                    <option value="neu">ĐH Kinh tế Quốc dân</option>
                </select>
            </div>
            <div class="filter-group">
                <span class="filter-label">Thể loại:</span>
                <select class="filter-select">
                    <option value="all">Tất cả</option>
                    <option value="academic">Học thuật</option>
                    <option value="culture">Văn hóa</option>
                    <option value="sports">Thể thao</option>
                </select>
            </div>
            <div class="search-box">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Tìm kiếm live stream...">
            </div>
        </section>

        <section>
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-broadcast-tower"></i> Đang Live
                    <span class="live-count" style="font-size: 1rem; background: var(--live-color); color: white; padding: 0.2rem 0.8rem; border-radius: 20px;">24 live</span>
                </h2>
            </div>
            <div class="content-grid" id="live-streams">
                <!-- Live streams will be dynamically added here -->
            </div>
            <a href="#" class="load-more">Xem thêm <i class="fas fa-chevron-right"></i></a>
        </section>

        <section>
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-clock"></i> Live Đã Phát
                    <span style="font-size: 1rem; background: var(--primary-color); color: white; padding: 0.2rem 0.8rem; border-radius: 20px;">200+ video</span>
                </h2>
            </div>
            <div class="content-grid" id="recorded-streams">
                <!-- Recorded streams will be dynamically added here -->
            </div>
            <a href="#" class="load-more">Xem thêm <i class="fas fa-chevron-right"></i></a>
        </section>
    </main>

    <script>
// Initialize AOS
AOS.init({
    duration: 800,
    once: true
});

// Theme Toggle functionality
const themeToggle = document.getElementById('theme-toggle');
const body = document.body;

themeToggle.addEventListener('click', () => {
    body.setAttribute('data-theme',
        body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'
    );
    themeToggle.innerHTML = body.getAttribute('data-theme') === 'dark' ?
        '<i class="fas fa-sun"></i>' :
        '<i class="fas fa-moon"></i>';
});

// Array of Vietnamese universities
const universities = [
    "Đại học Quốc gia Hà Nội",
    "Đại học Bách Khoa Hà Nội",
    "Đại học Ngoại thương",
    "Đại học Kinh tế Quốc dân",
    "Học viện Ngân hàng",
    "Đại học Y Hà Nội",
    "Đại học FPT",
    "Đại học Văn Lang",
    "Đại học Tôn Đức Thắng",
    "Đại học RMIT Việt Nam",
    "Đại học Công nghệ - ĐHQGHN",
    "Đại học Sư phạm Hà Nội",
    "Đại học Thương mại",
    "Học viện Công nghệ Bưu chính Viễn thông",
    "Đại học Hà Nội",
    "Đại học Thủy lợi",
    "Đại học Xây dựng",
    "Đại học Giao thông vận tải",
    "Đại học Công nghiệp Hà Nội",
    "Đại học Mỏ - Địa chất"
];

// Array of realistic stream titles
const liveStreamTitles = [
    "Lễ Tốt nghiệp Khoa CNTT năm 2023",
    "Hội thảo: Trí tuệ nhân tạo trong Y học hiện đại",
    "Talkshow: Khởi nghiệp trong thời đại số",
    "Lễ khai giảng năm học 2023-2024",
    "Hội nghị Sinh viên nghiên cứu khoa học",
    "Workshop: Kỹ năng mềm trong công việc",
    "Chung kết cuộc thi Tài năng sinh viên",
    "Seminar: Blockchain và tương lai của Fintech",
    "Tọa đàm: Cơ hội việc làm ngành IT",
    "Festival Văn hóa Sinh viên 2023",
    "Hội thảo: Chuyển đổi số trong giáo dục đại học",
    "Giao lưu doanh nghiệp - sinh viên 2023",
    "Lễ kỷ niệm ngày Nhà giáo Việt Nam 20/11",
    "Cuộc thi Hackathon 2023",
    "Workshop: Xu hướng công nghệ mới",
    "Talkshow: Định hướng nghề nghiệp",
    "Hội thảo: Phát triển bền vững",
    "Seminar: IoT và Smart City",
    "Festival Sáng tạo & Khởi nghiệp",
    "Diễn đàn Sinh viên ASEAN 2023"
];

const recordedStreamTitles = [
    "Định hướng nghề nghiệp cho sinh viên IT",
    "Hội thảo: Chuyển đổi số trong giáo dục",
    "Lễ kỷ niệm 65 năm thành lập trường",
    "Talkshow: Xu hướng công nghệ 2024",
    "Workshop: Digital Marketing cho người mới bắt đầu",
    "Seminar: Machine Learning trong thực tiễn",
    "Giao lưu doanh nghiệp - sinh viên",
    "Hội thảo: Phát triển bền vững trong kinh doanh",
    "Tọa đàm: Kinh nghiệm thực tập tại doanh nghiệp",
    "Festival Sáng tạo & Khởi nghiệp",
    "Hội nghị khoa học sinh viên năm 2023",
    "Chương trình giao lưu văn hóa quốc tế",
    "Workshop: Kỹ năng thuyết trình chuyên nghiệp",
    "Seminar: Big Data và ứng dụng",
    "Talkshow: Khởi nghiệp cùng chuyên gia",
    "Hội thảo: An toàn thông tin mạng",
    "Lễ trao giải cuộc thi Innovation 2023",
    "Workshop: UI/UX Design Trends",
    "Tọa đàm: Nghề nghiệp tương lai",
    "Diễn đàn khoa học công nghệ sinh viên"
];

// Stream data structure
let streams = {
    live: [],
    recorded: []
};

// Function to get random item from array
function getRandomItem(array) {
    return array[Math.floor(Math.random() * array.length)];
}

// Create stream object
function createStreamObject(isLive = true) {
    const title = isLive ? getRandomItem(liveStreamTitles) : getRandomItem(recordedStreamTitles);
    const university = getRandomItem(universities);
    const viewers = Math.floor(Math.random() * 10000);
    const duration = `${Math.floor(Math.random() * 2 + 1)}:${String(Math.floor(Math.random() * 60)).padStart(2, '0')}:${String(Math.floor(Math.random() * 60)).padStart(2, '0')}`;
    const timestamp = Date.now() - Math.floor(Math.random() * 1000000000);
    const trending = Math.random() * 100;

    return {
        title,
        university,
        viewers,
        duration,
        timestamp,
        trending,
        thumbnail: `https://picsum.photos/800/450?random=${Math.random()}`,
        universityAvatar: `https://picsum.photos/24/24?random=${Math.random()}`
    };
}

// Generate stream card HTML
function generateStreamCard(stream, isLive) {
    return `
        <div class="stream-card" data-aos="fade-up">
            <div class="stream-thumbnail">
                <img src="${stream.thumbnail}" alt="${stream.title}">
                ${isLive 
                    ? `<div class="live-badge">LIVE</div>`
                    : `<div class="recorded-badge"><i class="fas fa-play"></i> ĐÃ PHÁT</div>`
                }
                <div class="stream-duration">${stream.duration}</div>
            </div>
            <div class="stream-info">
                <h3 class="stream-title">${stream.title}</h3>
                <div class="stream-meta">
                    <div class="stream-university">
                        <img src="${stream.universityAvatar}" alt="University" class="university-avatar">
                        <span>${stream.university}</span>
                    </div>
                    <div class="stream-stats">
                        <span><i class="fas fa-users"></i> ${isLive ? `${stream.viewers.toLocaleString('vi-VN')} đang xem` : `${Math.floor(stream.viewers/1000)}K lượt xem`}</span>
                    </div>
                </div>
            </div>
        </div>
    `;
}

// Initialize streams
function initializeStreams() {
    for (let i = 0; i < 12; i++) {
        streams.live.push(createStreamObject(true));
        streams.recorded.push(createStreamObject(false));
    }
    renderStreams();
}

// Sort streams based on selected criteria
function sortStreams(streamArray, criteria) {
    const sortedArray = [...streamArray];
    switch (criteria) {
        case 'newest':
            return sortedArray.sort((a, b) => b.timestamp - a.timestamp);
        case 'viewers':
            return sortedArray.sort((a, b) => b.viewers - a.viewers);
        case 'trending':
            return sortedArray.sort((a, b) => b.trending - a.trending);
        default:
            return sortedArray;
    }
}

// Filter streams by university
function filterByUniversity(streamArray, university) {
    if (university === 'all') return streamArray;
    return streamArray.filter(stream => {
        const normalizedUniversity = stream.university.toLowerCase();
        return normalizedUniversity.includes(university.toLowerCase());
    });
}

// Filter streams by category
function filterByCategory(streamArray, category) {
    if (category === 'all') return streamArray;
    return streamArray.filter(stream => {
        const title = stream.title.toLowerCase();
        switch (category) {
            case 'academic':
                return title.includes('hội thảo') || title.includes('seminar') || title.includes('nghiên cứu');
            case 'culture':
                return title.includes('văn hóa') || title.includes('festival') || title.includes('giao lưu');
            case 'sports':
                return title.includes('thể thao') || title.includes('giải đấu') || title.includes('tournament');
            default:
                return true;
        }
    });
}

// Search streams
function searchStreams(streamArray, searchTerm) {
    if (!searchTerm) return streamArray;
    const normalizedSearchTerm = searchTerm.toLowerCase();
    return streamArray.filter(stream => 
        stream.title.toLowerCase().includes(normalizedSearchTerm) ||
        stream.university.toLowerCase().includes(normalizedSearchTerm)
    );
}

// Render streams to containers
function renderStreams() {
    const sortCriteria = document.querySelector('.filter-select').value;
    const universityFilter = document.querySelectorAll('.filter-select')[1].value;
    const categoryFilter = document.querySelectorAll('.filter-select')[2].value;
    const searchTerm = document.querySelector('.search-input').value;

    ['live', 'recorded'].forEach(type => {
        const container = document.getElementById(`${type}-streams`);
        let filteredStreams = streams[type];
        
        // Apply filters
        filteredStreams = sortStreams(filteredStreams, sortCriteria);
        filteredStreams = filterByUniversity(filteredStreams, universityFilter);
        filteredStreams = filterByCategory(filteredStreams, categoryFilter);
        filteredStreams = searchStreams(filteredStreams, searchTerm);

        // Update counts
        const countDisplay = container.closest('section').querySelector('.live-count');
        if (countDisplay) {
            countDisplay.textContent = type === 'live' 
                ? `${filteredStreams.length} live` 
                : `${filteredStreams.length}+ video`;
        }

        // Render
        container.innerHTML = filteredStreams
            .map(stream => generateStreamCard(stream, type === 'live'))
            .join('');
    });

    // Refresh AOS
    AOS.refresh();
}

// Event listeners for filters
document.querySelectorAll('.filter-select').forEach(select => {
    select.addEventListener('change', renderStreams);
});

document.querySelector('.search-input').addEventListener('input', renderStreams);

// Load more functionality
document.querySelectorAll('.load-more').forEach(button => {
    button.addEventListener('click', (e) => {
        e.preventDefault();
        const type = e.target.closest('section').querySelector('.content-grid').id.includes('live') ? 'live' : 'recorded';
        
        // Add 4 more streams
        for (let i = 0; i < 4; i++) {
            streams[type].push(createStreamObject(type === 'live'));
        }
        renderStreams();
    });
});

// Initialize the page
initializeStreams();

// Optional: Add debouncing for search input
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// Apply debouncing to search input
const searchInput = document.querySelector('.search-input');
if (searchInput) {
    searchInput.addEventListener('input', debounce(() => renderStreams(), 300));
}

// Add loading animation for images
document.addEventListener('DOMContentLoaded', () => {
    document.addEventListener('load', (e) => {
        if (e.target.tagName === 'IMG') {
            e.target.classList.add('loaded');
        }
    }, true);
});
    </script>
</body>

</html>